# This file will need to use the DataManager,FlightSearch, FlightData, NotificationManager classes to achieve the program requirements.
import flight_data
from flight_search import FlightSearch
from data_manager import DataManager
from flight_data import FlightData
from datetime import datetime, timedelta

tomorrow = (datetime.now() + timedelta(days=1)).strftime("%d/%m/%Y")
six_month_from_today = (datetime.now() + timedelta(days=(6 * 30))).strftime("%d/%m/%Y")


where_to = input("Enter city name where you want to fly?: ").title()
where_to_iata = ""
where_to_price = ""
# #
sheety_result = DataManager()
result = sheety_result.sheety_response()
# result = {'prices': [{'city': 'Paris', 'iataCode': 'PAR', 'lowestPrice': 66, 'id': 2},
#                      {'city': 'Berlin', 'iataCode': 'BER', 'lowestPrice': 150, 'id': 3},
#                      {'city': 'Tokyo', 'iataCode': 'TYO', 'lowestPrice': 485, 'id': 4},
#                      {'city': 'Sydney', 'iataCode': 'SYD', 'lowestPrice': 551, 'id': 5},
#                      {'city': 'London', 'iataCode': 'LON', 'lowestPrice': 333, 'id': 6},
#                      {'city': 'Kuala Lumpur', 'iataCode': 'KUL', 'lowestPrice': 414, 'id': 7},
#                      {'city': 'New York', 'iataCode': 'NYC', 'lowestPrice': 343, 'id': 8},
#                      {'city': 'San Francisco', 'iataCode': 'SFO', 'lowestPrice': 453, 'id': 9},
#                      {'city': 'Cape Town', 'iataCode': 'CPT', 'lowestPrice': 411, 'id': 10}]}
for _ in result["prices"]:
    if _["city"] == where_to:
        where_to_iata = _["iataCode"]
        where_to_price = _["lowestPrice"]
        print(f"the price of {where_to}-{where_to_iata} in sheet price is: €"f"{where_to_price}")
        break

enter_flight_data = FlightData(city_iata=where_to_iata, date_from=tomorrow, date_to=six_month_from_today)
get_flight_parameters = enter_flight_data.flight_parameters()
print(get_flight_parameters)
response_flight_search = FlightSearch(url=enter_flight_data.tequila_search_endpoint,
                                      headers=enter_flight_data.tequila_header,
                                      flight_parameters=get_flight_parameters)



# response_flight_search = {'search_id': 'a17f2ffe-fc4d-1f1b-68cd-29c583ac02cc', 'time': 1, 'currency': 'EUR', 'fx_rate': 1, 'data': [{'id': '1db8032d4a0e00004f78b1c3_0', 'flyFrom': 'SAW', 'flyTo': 'STN', 'cityFrom': 'Istanbul', 'cityCodeFrom': 'IST', 'cityTo': 'London', 'cityCodeTo': 'LON', 'countryFrom': {'code': 'TR', 'name': 'Turkey'}, 'countryTo': {'code': 'GB', 'name': 'United Kingdom'}, 'type_flights': ['deprecated'], 'nightsInDest': None, 'quality': 135.666555, 'distance': 2521.2, 'duration': {'departure': 14700, 'return': 0, 'total': 14700}, 'price': 91, 'conversion': {'EUR': 91}, 'bags_price': {'1': 22.5, '2': 142.5}, 'baglimit': {'hand_height': 40, 'hand_length': 55, 'hand_weight': 8, 'hand_width': 20, 'hold_dimensions_sum': 158, 'hold_height': 52, 'hold_length': 78, 'hold_weight': 20, 'hold_width': 28}, 'availability': {'seats': 3}, 'routes': [['SAW', 'STN']], 'airlines': ['PC'], 'route': [{'id': '1db8032d4a0e00004f78b1c3_0', 'combination_id': '1db8032d4a0e00004f78b1c3', 'flyFrom': 'SAW', 'flyTo': 'STN', 'cityFrom': 'Istanbul', 'cityCodeFrom': 'IST', 'cityTo': 'London', 'cityCodeTo': 'LON', 'airline': 'PC', 'flight_no': 1181, 'operating_carrier': 'PC', 'operating_flight_no': '1181', 'fare_basis': 'TWEB/INT', 'fare_category': 'M', 'fare_classes': 'T', 'fare_family': '', 'return': 0, 'bags_recheck_required': False, 'guarantee': False, 'vi_connection': False, 'last_seen': '2021-11-26T13:08:40.000Z', 'refresh_timestamp': '2021-11-26T13:08:40.000Z', 'equipment': None, 'vehicle_type': 'aircraft', 'local_arrival': '2021-11-27T11:50:00.000Z', 'utc_arrival': '2021-11-27T11:50:00.000Z', 'local_departure': '2021-11-27T10:45:00.000Z', 'utc_departure': '2021-11-27T07:45:00.000Z'}], 'booking_token': 'CE_6va-LlktC4vJnML9a4lJN6nAedpPpWx-_qfsJeM6nfuSsjqle1mweCGO6doT8e8iLf9gH4JZEBPS5QgmDVuXxkIdKsoPIs9fnE9uP8NxB-XhAYBltT6I2p0oA218ccmxCIaNjkhyRkkpcctdedpkImmiYnBx56ajzKFQF_Sfa32LSHcDGjD4eeUP6XNgzm8XCIYRrWRmAyXMyfOSZSG67IuzQ-Alw92xo6-ERreOx1Dqzgd8QlWjtu05UQKznZmL7-A6-HgyALDUfcX83ZXzw1dM4uMZoosclZ-fGmXeSPXNWhBrAmuMDeexPxQtMIhZDAN7jSoVNfFIuS3ykGQEQrRkMBmKykFHCgA0Y9PHY=', 'deep_link': 'https://www.kiwi.com/deep?from=SAW&to=STN&flightsId=1db8032d4a0e00004f78b1c3_0&price=91&passengers=1&affilid=ossanudemy&lang=en&currency=EUR&booking_token=CE_6va-LlktC4vJnML9a4lJN6nAedpPpWx-_qfsJeM6nfuSsjqle1mweCGO6doT8e8iLf9gH4JZEBPS5QgmDVuXxkIdKsoPIs9fnE9uP8NxB-XhAYBltT6I2p0oA218ccmxCIaNjkhyRkkpcctdedpkImmiYnBx56ajzKFQF_Sfa32LSHcDGjD4eeUP6XNgzm8XCIYRrWRmAyXMyfOSZSG67IuzQ-Alw92xo6-ERreOx1Dqzgd8QlWjtu05UQKznZmL7-A6-HgyALDUfcX83ZXzw1dM4uMZoosclZ-fGmXeSPXNWhBrAmuMDeexPxQtMIhZDAN7jSoVNfFIuS3ykGQEQrRkMBmKykFHCgA0Y9PHY=', 'tracking_pixel': '', 'facilitated_booking_available': True, 'pnr_count': 1, 'has_airport_change': False, 'technical_stops': 0, 'throw_away_ticketing': False, 'hidden_city_ticketing': False, 'virtual_interlining': False, 'transfers': [], 'local_arrival': '2021-11-27T11:50:00.000Z', 'utc_arrival': '2021-11-27T11:50:00.000Z', 'local_departure': '2021-11-27T10:45:00.000Z', 'utc_departure': '2021-11-27T07:45:00.000Z'}, {'id': '1db8032d4a0e0000df20147f_0', 'flyFrom': 'SAW', 'flyTo': 'STN', 'cityFrom': 'Istanbul', 'cityCodeFrom': 'IST', 'cityTo': 'London', 'cityCodeTo': 'LON', 'countryFrom': {'code': 'TR', 'name': 'Turkey'}, 'countryTo': {'code': 'GB', 'name': 'United Kingdom'}, 'type_flights': ['deprecated'], 'nightsInDest': None, 'quality': 135.666555, 'distance': 2521.2, 'duration': {'departure': 14700, 'return': 0, 'total': 14700}, 'price': 91, 'conversion': {'EUR': 91}, 'bags_price': {'1': 22.5, '2': 142.5}, 'baglimit': {'hand_height': 40, 'hand_length': 55, 'hand_weight': 8, 'hand_width': 20, 'hold_dimensions_sum': 158, 'hold_height': 52, 'hold_length': 78, 'hold_weight': 20, 'hold_width': 28}, 'availability': {'seats': None}, 'routes': [['SAW', 'STN']], 'airlines': ['PC'], 'route': [{'id': '1db8032d4a0e0000df20147f_0', 'combination_id': '1db8032d4a0e0000df20147f', 'flyFrom': 'SAW', 'flyTo': 'STN', 'cityFrom': 'Istanbul', 'cityCodeFrom': 'IST', 'cityTo': 'London', 'cityCodeTo': 'LON', 'airline': 'PC', 'flight_no': 1169, 'operating_carrier': 'PC', 'operating_flight_no': '1169', 'fare_basis': 'TWEB/INT', 'fare_category': 'M', 'fare_classes': 'T', 'fare_family': '', 'return': 0, 'bags_recheck_required': False, 'guarantee': False, 'vi_connection': False, 'last_seen': '2021-11-26T13:22:48.000Z', 'refresh_timestamp': '2021-11-26T13:22:48.000Z', 'equipment': None, 'vehicle_type': 'aircraft', 'local_arrival': '2021-11-27T09:30:00.000Z', 'utc_arrival': '2021-11-27T09:30:00.000Z', 'local_departure': '2021-11-27T08:25:00.000Z', 'utc_departure': '2021-11-27T05:25:00.000Z'}], 'booking_token': 'CE_6va-LlktC4vJnML9a4lGvvkAxN305OlYYN0wprC0lrSvGABthdixltLagCiUOwV9pj3btM257jyNUsRpyjAUU2OLfnZ9e9prw0zKgMwFqYJrb60KCIUNdphvwAaW_42PQir6JHTAbrMw4-eAyJQR3UzpNPOfSLMfRHgxnipdSqjcFfWyR35qLQ9Sxe5jKPsi4CMLzebI7tTQ88Pz8i53rhcpMLks-eP8aEjXxfZAp27IpFbSeBfJpwdaCwOQI213ljSkiizaMPb_H0F41CGshLfnPtSDrVZ-DRtduDGFfnUdOEzYGotNV-klYu9LSOInEwbV-05WVYfXvIMvTqi-J4S_jses9d6f4S610t7h0=', 'deep_link': 'https://www.kiwi.com/deep?from=SAW&to=STN&flightsId=1db8032d4a0e0000df20147f_0&price=91&passengers=1&affilid=ossanudemy&lang=en&currency=EUR&booking_token=CE_6va-LlktC4vJnML9a4lGvvkAxN305OlYYN0wprC0lrSvGABthdixltLagCiUOwV9pj3btM257jyNUsRpyjAUU2OLfnZ9e9prw0zKgMwFqYJrb60KCIUNdphvwAaW_42PQir6JHTAbrMw4-eAyJQR3UzpNPOfSLMfRHgxnipdSqjcFfWyR35qLQ9Sxe5jKPsi4CMLzebI7tTQ88Pz8i53rhcpMLks-eP8aEjXxfZAp27IpFbSeBfJpwdaCwOQI213ljSkiizaMPb_H0F41CGshLfnPtSDrVZ-DRtduDGFfnUdOEzYGotNV-klYu9LSOInEwbV-05WVYfXvIMvTqi-J4S_jses9d6f4S610t7h0=', 'tracking_pixel': '', 'facilitated_booking_available': True, 'pnr_count': 1, 'has_airport_change': False, 'technical_stops': 0, 'throw_away_ticketing': False, 'hidden_city_ticketing': False, 'virtual_interlining': False, 'transfers': [], 'local_arrival': '2021-11-27T09:30:00.000Z', 'utc_arrival': '2021-11-27T09:30:00.000Z', 'local_departure': '2021-11-27T08:25:00.000Z', 'utc_departure': '2021-11-27T05:25:00.000Z'}, {'id': '1db8192e4a0f0000662cd98e_0|192e1f354a100000f63379b4_0|1f35032d4a100000284eed42_0', 'flyFrom': 'SAW', 'flyTo': 'STN', 'cityFrom': 'Istanbul', 'cityCodeFrom': 'IST', 'cityTo': 'London', 'cityCodeTo': 'LON', 'countryFrom': {'code': 'TR', 'name': 'Turkey'}, 'countryTo': {'code': 'GB', 'name': 'United Kingdom'}, 'type_flights': ['deprecated'], 'nightsInDest': None, 'quality': 258.666265, 'distance': 2521.2, 'duration': {'departure': 66900, 'return': 0, 'total': 66900}, 'price': 98, 'conversion': {'EUR': 98}, 'bags_price': {'1': 126.48, '2': 229.53}, 'baglimit': {'hand_height': 35, 'hand_length': 55, 'hand_weight': 7, 'hand_width': 20, 'hold_dimensions_sum': 158, 'hold_height': 52, 'hold_length': 78, 'hold_weight': 15, 'hold_width': 28}, 'availability': {'seats': 3}, 'routes': [['SAW', 'STN']], 'airlines': ['XC', 'PC', 'FR'], 'route': [{'id': '1db8192e4a0f0000662cd98e_0', 'combination_id': '1db8192e4a0f0000662cd98e', 'flyFrom': 'SAW', 'flyTo': 'AYT', 'cityFrom': 'Istanbul', 'cityCodeFrom': 'IST', 'cityTo': 'Antalya', 'cityCodeTo': 'AYT', 'airline': 'PC', 'flight_no': 2028, 'operating_carrier': 'PC', 'operating_flight_no': '2028', 'fare_basis': 'VOW', 'fare_category': 'M', 'fare_classes': 'V', 'fare_family': '', 'return': 0, 'bags_recheck_required': False, 'guarantee': False, 'vi_connection': False, 'last_seen': '2021-11-26T13:20:55.000Z', 'refresh_timestamp': '2021-11-26T13:20:55.000Z', 'equipment': None, 'vehicle_type': 'aircraft', 'local_arrival': '2021-11-29T01:00:00.000Z', 'utc_arrival': '2021-11-28T22:00:00.000Z', 'local_departure': '2021-11-28T23:45:00.000Z', 'utc_departure': '2021-11-28T20:45:00.000Z'}, {'id': '192e1f354a100000f63379b4_0', 'combination_id': '192e1f354a100000f63379b4', 'flyFrom': 'AYT', 'flyTo': 'BRE', 'cityFrom': 'Antalya', 'cityCodeFrom': 'AYT', 'cityTo': 'Bremen', 'cityCodeTo': 'BRE', 'airline': 'XC', 'flight_no': 1313, 'operating_carrier': 'XC', 'operating_flight_no': '1313', 'fare_basis': '', 'fare_category': 'M', 'fare_classes': 'E', 'fare_family': '', 'return': 0, 'bags_recheck_required': True, 'guarantee': True, 'vi_connection': True, 'last_seen': '2021-11-26T13:25:12.000Z', 'refresh_timestamp': '1970-01-01T00:00:00.000Z', 'equipment': None, 'vehicle_type': 'aircraft', 'local_arrival': '2021-11-29T08:50:00.000Z', 'utc_arrival': '2021-11-29T07:50:00.000Z', 'local_departure': '2021-11-29T07:00:00.000Z', 'utc_departure': '2021-11-29T04:00:00.000Z'}, {'id': '1f35032d4a100000284eed42_0', 'combination_id': '1f35032d4a100000284eed42', 'flyFrom': 'BRE', 'flyTo': 'STN', 'cityFrom': 'Bremen', 'cityCodeFrom': 'BRE', 'cityTo': 'London', 'cityCodeTo': 'LON', 'airline': 'FR', 'flight_no': 3631, 'operating_carrier': '', 'operating_flight_no': '', 'fare_basis': '', 'fare_category': 'M', 'fare_classes': '', 'fare_family': '', 'return': 0, 'bags_recheck_required': True, 'guarantee': True, 'vi_connection': True, 'last_seen': '2021-11-26T13:15:34.000Z', 'refresh_timestamp': '2021-11-26T13:15:34.000Z', 'equipment': None, 'vehicle_type': 'aircraft', 'local_arrival': '2021-11-29T15:20:00.000Z', 'utc_arrival': '2021-11-29T15:20:00.000Z', 'local_departure': '2021-11-29T14:55:00.000Z', 'utc_departure': '2021-11-29T13:55:00.000Z'}], 'booking_token': 'CfMYG1clIUl50mwl_UsywcZEdsiAFFmNTGDHEThM808U1WmLaVVh8Dx5qJrelIHlznXGupGXNrsyUYyrAqAs8t2jIESTdjUGLBgaYPMXZFenZMAuXL7uv7kcLqlCkQ2W_wLIV3J69Amw31STZEfAtYJjIdOBPNFJbW0wkR5tn6Q8YmKt8ZyqQoLmU0l_klsWRir83Mb_iuJBTUBGvP2_SsJHiwcTLZy6EofsLBa4c_aeElktgdTCuc2AUpkROz6r_u5aXjNGTSgbCUD8JS5nrsRUyRvNL9ugSFtPKcnl-ftVcnG6FP03F-vn-c3twdRbnV4NKtNVopZME36WB53WxXCfPP05b7wFX-l7yzZP8z4oa-WtjjjtGjjLIA2UeNPxtAASE5PZRgJeSt2XuNZ21hwEuijXOgxLgXfcdyn2Dk6p_NwQO2fqEqmM0wopc0d0tbGQbAQjLuWlDDH016hP0dA==', 'deep_link': 'https://www.kiwi.com/deep?from=SAW&to=STN&flightsId=1db8192e4a0f0000662cd98e_0%7C192e1f354a100000f63379b4_0%7C1f35032d4a100000284eed42_0&price=98&passengers=1&affilid=ossanudemy&lang=en&currency=EUR&booking_token=CfMYG1clIUl50mwl_UsywcZEdsiAFFmNTGDHEThM808U1WmLaVVh8Dx5qJrelIHlznXGupGXNrsyUYyrAqAs8t2jIESTdjUGLBgaYPMXZFenZMAuXL7uv7kcLqlCkQ2W_wLIV3J69Amw31STZEfAtYJjIdOBPNFJbW0wkR5tn6Q8YmKt8ZyqQoLmU0l_klsWRir83Mb_iuJBTUBGvP2_SsJHiwcTLZy6EofsLBa4c_aeElktgdTCuc2AUpkROz6r_u5aXjNGTSgbCUD8JS5nrsRUyRvNL9ugSFtPKcnl-ftVcnG6FP03F-vn-c3twdRbnV4NKtNVopZME36WB53WxXCfPP05b7wFX-l7yzZP8z4oa-WtjjjtGjjLIA2UeNPxtAASE5PZRgJeSt2XuNZ21hwEuijXOgxLgXfcdyn2Dk6p_NwQO2fqEqmM0wopc0d0tbGQbAQjLuWlDDH016hP0dA==', 'tracking_pixel': '', 'facilitated_booking_available': False, 'pnr_count': 3, 'has_airport_change': False, 'technical_stops': 0, 'throw_away_ticketing': False, 'hidden_city_ticketing': False, 'virtual_interlining': True, 'transfers': [], 'local_arrival': '2021-11-29T15:20:00.000Z', 'utc_arrival': '2021-11-29T15:20:00.000Z', 'local_departure': '2021-11-28T23:45:00.000Z', 'utc_departure': '2021-11-28T20:45:00.000Z'}, {'id': '1db8032d4a0e00003ff5fd61_0', 'flyFrom': 'SAW', 'flyTo': 'STN', 'cityFrom': 'Istanbul', 'cityCodeFrom': 'IST', 'cityTo': 'London', 'cityCodeTo': 'LON', 'countryFrom': {'code': 'TR', 'name': 'Turkey'}, 'countryTo': {'code': 'GB', 'name': 'United Kingdom'}, 'type_flights': ['deprecated'], 'nightsInDest': None, 'quality': 151.666555, 'distance': 2521.2, 'duration': {'departure': 14700, 'return': 0, 'total': 14700}, 'price': 107, 'conversion': {'EUR': 107}, 'bags_price': {'1': 22.5, '2': 142.5}, 'baglimit': {'hand_height': 40, 'hand_length': 55, 'hand_weight': 8, 'hand_width': 20, 'hold_dimensions_sum': 158, 'hold_height': 52, 'hold_length': 78, 'hold_weight': 20, 'hold_width': 28}, 'availability': {'seats': 2}, 'routes': [['SAW', 'STN']], 'airlines': ['PC'], 'route': [{'id': '1db8032d4a0e00003ff5fd61_0', 'combination_id': '1db8032d4a0e00003ff5fd61', 'flyFrom': 'SAW', 'flyTo': 'STN', 'cityFrom': 'Istanbul', 'cityCodeFrom': 'IST', 'cityTo': 'London', 'cityCodeTo': 'LON', 'airline': 'PC', 'flight_no': 1163, 'operating_carrier': 'PC', 'operating_flight_no': '1163', 'fare_basis': 'VWEB/INT', 'fare_category': 'M', 'fare_classes': 'V', 'fare_family': '', 'return': 0, 'bags_recheck_required': False, 'guarantee': False, 'vi_connection': False, 'last_seen': '2021-11-26T13:08:40.000Z', 'refresh_timestamp': '2021-11-26T13:08:40.000Z', 'equipment': None, 'vehicle_type': 'aircraft', 'local_arrival': '2021-11-27T22:30:00.000Z', 'utc_arrival': '2021-11-27T22:30:00.000Z', 'local_departure': '2021-11-27T21:25:00.000Z', 'utc_departure': '2021-11-27T18:25:00.000Z'}], 'booking_token': 'CTlIGvSz4DxkkSiy6ywnUE_aoQwclHdsTZcTDiuPTrxPv3IigC3Ys_C1VNkWwUzCgQlHARVWaz5l-5oGi1PuhGVkj3ppIZqfSv4NEibxfKU6b4b1z9LSrTSExpNxI16zy5Ry-oYkJVjuTxenFXytjrhxc4s83R3TH0VTo1x9ohE84XTyrW_vvI14luG1duqgTs9Kl-V0Z4nIb5lw6Mwi8TXxqlC5w0LE1kcmYsw4E_QY_UVQDmxvaPA-eQ1oD5IMjVi9pyzMU-TylaZ1_MOAko2-KzHUKFa6y11LGKlBraJdPuvGeMMIxptd4mqrUdyxoRe-5UeNtMX23OPxdX0bMPdvylOPcTSktvDIWtCfoQSfagvqgVT_yOpKnWw564hkT', 'deep_link': 'https://www.kiwi.com/deep?from=SAW&to=STN&flightsId=1db8032d4a0e00003ff5fd61_0&price=107&passengers=1&affilid=ossanudemy&lang=en&currency=EUR&booking_token=CTlIGvSz4DxkkSiy6ywnUE_aoQwclHdsTZcTDiuPTrxPv3IigC3Ys_C1VNkWwUzCgQlHARVWaz5l-5oGi1PuhGVkj3ppIZqfSv4NEibxfKU6b4b1z9LSrTSExpNxI16zy5Ry-oYkJVjuTxenFXytjrhxc4s83R3TH0VTo1x9ohE84XTyrW_vvI14luG1duqgTs9Kl-V0Z4nIb5lw6Mwi8TXxqlC5w0LE1kcmYsw4E_QY_UVQDmxvaPA-eQ1oD5IMjVi9pyzMU-TylaZ1_MOAko2-KzHUKFa6y11LGKlBraJdPuvGeMMIxptd4mqrUdyxoRe-5UeNtMX23OPxdX0bMPdvylOPcTSktvDIWtCfoQSfagvqgVT_yOpKnWw564hkT', 'tracking_pixel': '', 'facilitated_booking_available': True, 'pnr_count': 1, 'has_airport_change': False, 'technical_stops': 0, 'throw_away_ticketing': False, 'hidden_city_ticketing': False, 'virtual_interlining': False, 'transfers': [], 'local_arrival': '2021-11-27T22:30:00.000Z', 'utc_arrival': '2021-11-27T22:30:00.000Z', 'local_departure': '2021-11-27T21:25:00.000Z', 'utc_departure': '2021-11-27T18:25:00.000Z'}, {'id': '1db8032d4a0e000061793e1d_0', 'flyFrom': 'SAW', 'flyTo': 'STN', 'cityFrom': 'Istanbul', 'cityCodeFrom': 'IST', 'cityTo': 'London', 'cityCodeTo': 'LON', 'countryFrom': {'code': 'TR', 'name': 'Turkey'}, 'countryTo': {'code': 'GB', 'name': 'United Kingdom'}, 'type_flights': ['deprecated'], 'nightsInDest': None, 'quality': 158.333225, 'distance': 2521.2, 'duration': {'departure': 14100, 'return': 0, 'total': 14100}, 'price': 115, 'conversion': {'EUR': 115}, 'bags_price': {'1': 0}, 'baglimit': {'hand_height': 40, 'hand_length': 55, 'hand_weight': 8, 'hand_width': 23, 'hold_dimensions_sum': 158, 'hold_height': 52, 'hold_length': 78, 'hold_weight': 20, 'hold_width': 28}, 'availability': {'seats': 3}, 'routes': [['SAW', 'STN']], 'airlines': ['TK'], 'route': [{'id': '1db8032d4a0e000061793e1d_0', 'combination_id': '1db8032d4a0e000061793e1d', 'flyFrom': 'SAW', 'flyTo': 'STN', 'cityFrom': 'Istanbul', 'cityCodeFrom': 'IST', 'cityTo': 'London', 'cityCodeTo': 'LON', 'airline': 'TK', 'flight_no': 7830, 'operating_carrier': 'TK', 'operating_flight_no': '7830', 'fare_basis': 'VT1AJOSW', 'fare_category': 'M', 'fare_classes': 'V', 'fare_family': '', 'return': 0, 'bags_recheck_required': False, 'guarantee': False, 'vi_connection': False, 'last_seen': '2021-11-26T13:06:56.000Z', 'refresh_timestamp': '1970-01-01T00:00:00.000Z', 'equipment': None, 'vehicle_type': 'aircraft', 'local_arrival': '2021-11-27T21:45:00.000Z', 'utc_arrival': '2021-11-27T21:45:00.000Z', 'local_departure': '2021-11-27T20:50:00.000Z', 'utc_departure': '2021-11-27T17:50:00.000Z'}], 'booking_token': 'CIMghjZmLnvKn0WmVo08b2HYu4oFnyf0d8T6OBSZpNhgyLQwbaZc16xcWLrft6ns9VnjSP8T9haQAI3j3AqV85B7_MAofQ4gHJR6dvu4PATwgoJ6aYEelZXCogcZ4vC3zCjbZzQqjihq8UcrbV7d-qIz_E8QiecCpSMQ6t-NArPD0LPYdIPEZIvk1AwRp_QgAeu4DjDU9aQJd-edthFgTzojU6Pc-sFu_YFYbDIZ8oyixiz-IfEvKSTuMuuWc-kHdoMlFv_K3elHeF8Y0fm-f7YnY-ZGO4iB_FPvsbPm3y6ia46w9pbA9a16Ch2XRqtCrlym2Yy-TAc5qVTycKDZ34owtI49F0vYRPq5G-hU5_btSoDpeBwOGt2PsrIK8i6UV', 'deep_link': 'https://www.kiwi.com/deep?from=SAW&to=STN&flightsId=1db8032d4a0e000061793e1d_0&price=115&passengers=1&affilid=ossanudemy&lang=en&currency=EUR&booking_token=CIMghjZmLnvKn0WmVo08b2HYu4oFnyf0d8T6OBSZpNhgyLQwbaZc16xcWLrft6ns9VnjSP8T9haQAI3j3AqV85B7_MAofQ4gHJR6dvu4PATwgoJ6aYEelZXCogcZ4vC3zCjbZzQqjihq8UcrbV7d-qIz_E8QiecCpSMQ6t-NArPD0LPYdIPEZIvk1AwRp_QgAeu4DjDU9aQJd-edthFgTzojU6Pc-sFu_YFYbDIZ8oyixiz-IfEvKSTuMuuWc-kHdoMlFv_K3elHeF8Y0fm-f7YnY-ZGO4iB_FPvsbPm3y6ia46w9pbA9a16Ch2XRqtCrlym2Yy-TAc5qVTycKDZ34owtI49F0vYRPq5G-hU5_btSoDpeBwOGt2PsrIK8i6UV', 'tracking_pixel': '', 'facilitated_booking_available': True, 'pnr_count': 1, 'has_airport_change': False, 'technical_stops': 0, 'throw_away_ticketing': False, 'hidden_city_ticketing': False, 'virtual_interlining': False, 'transfers': [], 'local_arrival': '2021-11-27T21:45:00.000Z', 'utc_arrival': '2021-11-27T21:45:00.000Z', 'local_departure': '2021-11-27T20:50:00.000Z', 'utc_departure': '2021-11-27T17:50:00.000Z'}], '_results': 30, 'search_params': {'flyFrom_type': 'airport', 'to_type': 'airport', 'seats': {'passengers': 1, 'adults': 1, 'children': 0, 'infants': 0}}, 'all_airlines': [], 'all_stopover_airports': [], 'del': 0, 'currency_rate': 1, 'connections': [], 'refresh': [], 'ref_tasks': [], 'sort_version': 0}

print(where_to_price)
for _ in response_flight_search.flight_result["data"]:
    if where_to_price > _["price"]:
        where_to_price = _["price"]
        print(_["cityFrom"], _["flyFrom"], "to", _["cityTo"], _["cityCodeTo"], "with €", where_to_price)
